<ion-header class="greenborderheader">
  <ion-toolbar>
    <ion-title>Talks</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="conversations.length > 0">
    <ion-list>
      <ion-item *ngFor="let conversation of conversations" (click)="startChat(conversation.adress)" class="greenborder">
        <ion-avatar slot="start">
          <ion-icon src="../../../assets/SVG/ninja.svg" alt="Avatar"></ion-icon>
        </ion-avatar>
        <ion-label>
          <ion-grid>
            <ion-row>
              <ion-col size="6">
                <h2>{{ conversation.peerName }}</h2>
                <p>"{{ conversation.lastMessage | truncateWords:3:15 }}"</p> <!-- Troncature par mots et caractÃ¨res -->
              </ion-col>
              <ion-col size="6" class="date-column">
                <p class="date-time">{{ conversation.lastMessageDate | date:'d MMMM yyyy HH:mm' }}</p>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
  <div class="loader" *ngIf="conversations.length === 0">
    <ion-spinner name="dots"></ion-spinner>
  </div>
</ion-content>